Movie Booking System (電影訂票系統)
專案簡介
這是一個使用 Java + JavaFX 開發的電影訂票系統，提供從電影瀏覽、場次與座位選擇，到付款、退票、訂單管理與推薦等一條龍流程。
​
系統採用分層設計，將資料模型、業務邏輯與 UI 分離，方便維護與功能擴充。
​

專案結構
text
Movie-Booking-System/
├── src/main/java/org/example/
│   ├── data/      # 資料層 (記憶體資料庫、初始化)
│   ├── model/     # 資料模型與列舉
│   ├── service/   # 業務邏輯服務
│   ├── util/      # 工具類 (若有)
│   ├── App.java   # JavaFX 主應用程式
│   └── Main.java  # 程式進入點
└── pom.xml        # Maven 專案設定
data 資料夾
DataStore.java
用途：系統的「記憶體資料庫」，集中管理所有核心資料。
​

主要功能：

儲存使用者、電影、影城、場次、訂單、票券等集合資料。
​

提供座位對應表 seatMap，管理各場次的座位狀態。
​

管理折扣碼與電影熱門度統計資訊，用於價格計算與推薦。
​

bootstrapSample() 初始化範例資料（預設使用者、電影、影城、折扣碼等）。
​

model 資料夾（資料模型與列舉）
Booking.java
用途：代表一筆「訂單」資料。
​

欄位重點：訂單 ID、使用者 ID、場次 ID、座位清單、票種、餐點組合、折扣金額、總價、訂單狀態、建立時間，用來完整描述一次訂票紀錄。
​

BookingStatus.java
用途：訂單狀態列舉，用來標記訂單目前流程階段。
​

狀態：CREATED（建立）、PAID（已付款）、CANCELED（已取消）、REFUNDED（已退款）。
​

MealCombo.java
用途：電影餐點組合列舉。
​

選項：NONE（無）、POPCORN_COLA（爆米花+可樂）、COUPLE_SET（情侶套餐）。
​

Movie.java
用途：電影資料模型。
​

欄位：電影 ID、片名、分級等，用於顯示清單與搜尋、推薦功能。
​

PaymentResult.java
用途：付款結果的回傳模型。
​

欄位：是否成功的布林值與訊息字串，用於顯示付款成功或錯誤原因。
​

Showtime.java
用途：電影場次資料模型。
​

欄位：場次 ID、影城 ID、電影 ID、開始時間、基礎票價，提供訂票流程使用。
​

Theater.java
用途：影城資料模型。
​

欄位：影城 ID、名稱、座標 (x, y)，座標可用於計算使用者與影城距離做推薦。
​

Ticket.java
用途：單張電影票資料模型。
​

欄位：票券 ID、訂單 ID、座位 ID、電子票券代碼，用於出示與驗票。
​

TicketType.java
用途：票種列舉。
​

類型：ADULT（成人）、STUDENT（學生）、EARLY_BIRD（早鳥），搭配 Pricing 使用。
​

User.java
用途：使用者資料模型。
​

欄位：使用者 ID、帳號名稱、密碼雜湊值，用於登入與權限驗證。
​

service 資料夾（業務邏輯）
AuthService.java
用途：使用者認證與帳號相關操作。
​

主要功能：

login：驗證帳號與密碼是否正確。
​

changePassword：修改使用者密碼，並重新計算雜湊值。
​

forgotPassword：自動產生隨機新密碼並更新使用者資料。
​

處理密碼雜湊與比對邏輯，避免明碼儲存。
​

BookingService.java
用途：處理訂票流程的核心服務。
​

主要功能：

autoSelectSeats：根據需求票數，自動挑選前排可用座位。
​

listAvailableSeats：列出特定場次目前可選的座位清單。
​

createBooking：建立新訂單，綁定使用者、場次、座位、票種與餐點組合。
​

計算總價格（含票種差異、餐點加價、折扣碼折抵）。
​

提供訂單查詢與明細檢視。
​

IDValidator.java
用途：台灣身分證字號驗證工具服務。
​

功能：檢查身分證字號格式與檢查碼是否符合規則，提高資料正確性。
​

PaymentService.java
用途：付款流程與票券產生服務。
​

主要功能：

模擬信用卡付款流程與成功/失敗結果。
​

付款成功後更新訂單狀態為已付款，並生成對應的電子票券資料。
​

回傳 PaymentResult 給前端或呼叫端做 UI 顯示。
​

PriceCompareService.java
用途：跨影城票價比較服務。
​

主要功能：

比較不同影城、同一部電影的票價差異。
​

提供依價格排序與條件篩選功能，協助使用者找出較便宜方案。
​

RecommendationService.java
用途：電影與影城推薦服務。
​

主要功能：

根據電影熱門度統計，推薦熱門電影給使用者。
​

根據使用者位置座標，計算距離並推薦最近的影城。
​

RefundService.java
用途：退票與退款流程服務。
​

主要功能：

處理使用者的退票申請，檢查是否符合退票條件。
​

計算退款金額（可設定是否扣除手續費）。
​

釋放已占用的座位並更新訂單狀態為已退款。
​

SearchService.java
用途：電影與影城、場次搜尋服務。
​

主要功能：

依電影名稱關鍵字搜尋電影列表。
​

依地點名稱或範圍搜尋影城。
​

依條件（時間、影城、電影）篩選可用場次。
​

主程式檔案
App.java
用途：JavaFX 主應用程式，負責整個 GUI 的啟動與場景管理。
​

主要功能：

建立登入、電影選擇、座位選擇、付款等畫面場景。
​

整合各個 Service，將業務邏輯串接到使用者操作流程中。
​

監聽按鈕與輸入事件，更新畫面與資料狀態。
​

Main.java
用途：程式進入點。
​

功能：呼叫並啟動 JavaFX 應用程式（通常轉呼叫 App）。
​
